# 271 - 0c3c546 ci windows使用node x64架构

因为`esbuild`不支持在node x86架构中使用，所以切换为x64架构。

[node架构](https://newsn.net/say/node-arch.html)：返回为其编译 Node.js 二进制文件的操作系统 CPU 架构。可能的值为 `'arm'`, `'arm64'`, `'ia32'`, `'mips'`, `'mipsel'`, `'ppc'`, `'ppc64'`, `'s390'`, `'s390x'`, `'x32'`, 和 `'x64'`.

```typescript
// esbuild install.js
// Pick a package to install
if (process.platform === 'linux' && os.arch() === 'x64') {
  installOnUnix('esbuild-linux-64');
} else if (process.platform === 'darwin' && os.arch() === 'x64') {
  installOnUnix('esbuild-darwin-64');
} else if (process.platform === 'win32' && os.arch() === 'x64') {
  installOnWindows();
} else {
  console.error(`error: Unsupported platform: ${process.platform} ${os.arch()}`);
  process.exit(1);
}
```

![1](1.png)



![2](2.png)

[本次ci运行信息](https://ci.appveyor.com/project/Kingbultsea/sbuild/builds/40544835)



# 272 - 

