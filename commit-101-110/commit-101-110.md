# commit-101

允许`resolver`拥有`idToRequest`方法。

```typescript
idToRequest: (id: string) => {
      for (const r of resolvers) {
        const request = r.idToRequest && r.idToRequest(id)
        if (request) return request
      }
}
```

## 影响范围？

在`serverPluginModules.ts`中的`rewriteImports`，会利用`idToRequest`作为**模块改写的路径**。

```typescript
if (/^[^\/\.]/.test(id)) { // import from 'lodash'
            const rewritten = resolver.idToRequest(id) || `/@modules/${id}`
            s.overwrite(start, end, rewritten)
            hasReplaced = true
            debugImportRewrite(`    "${id}" --> "${rewritten}"`)
}
```



